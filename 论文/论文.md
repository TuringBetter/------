# 基于LoRaWAN的交通灯预警系统
## 中文摘要
### 中文关键词
## 英文摘要
### 英文关键词
## 引言
## 1 系统框架
## 2 系统硬件设计
### 2.1 LoRa终端
### 2.2 LoRa网关集中器硬件系统结构
## 3 系统软件设计
### 3.1 LoRa终端入网与运行流程
### 3.2 LoRa终端诱导灯状态管理算法
### 3.3 LoRa终端时间同步算法
### 3.4 LoRa终端事故检测算法
### 3.5 LoRa网关集中器数据转发功能
LoRa网关集中器采用了“树莓派3B+E106-470G27P2模块+转接板”组合搭建而成, 其硬件结构如图所示。
![网关硬件图](./pics/网关硬件图.png)

E106-470G27P2是一款适配于树莓派的LoRa网关
集中器模块, 支持LoRa协议、LoRaWAN协议、SPI接口协议，支持8个信道, 并且适用于LoRaWAN全球所有频段, 它拥有一个基于Semtech SX1302的基带处理器用来进行数据包的管理

树莓派则主要负责作为核心控制板, 处理数据和运算等
### 3.6 ChirpStack服务部署与配置
ChirpStack是一个开源的物联网网络服务器，它提供了LoRaWAN协议的网络服务器功能，包含了Gateway Bridge、Network Server、Application Server和Geolocation Server, 并且集成了许多接口供第三方应用使用, 是目前LoRaWAN服务端中一个很好可行的解决方案。

本系统部署ChirpStack v4版本，v4版本提供了一个统一的docker-compose.yml文件，可以一键部署
### 3.7 Go Gin应用开发
### 3.8 系统数据通信流程
## 4 系统测试与总结